AWX API DEMO ロール機能の検討
===========================

申請を行う利用者とIaaSチームの作業担当者・管理者は、実行できる機能が異なることが想定される。利用者に対しては、自身の申請のみ参照することができ、ほかの利用者の申請を参照・変更を行うことを制限する必要がある。

本ドキュメントでは、各役割に許可された権限およびログインするアカウントと役割を紐づける機能について検討する。

* ロール機能の概要
1. ログインしたユーザが所属するAWX(AAP)のチームに応じて、異なる権限（のセット）を自動的に付加（以下、この権限のセットをロールとする）
2. ロールに応じて、インタフェースの自動調整（サイドバー、メニュー、申請の詳細画面など）
3. ロールに紐づけるAWX(AAP)のチームを変更できるインタフェースの追加（設定画面）

* 各ロールの概要とAWX(AAP)チームのマッピング（例）

| ロール | 概要 | AWX(AAP)チーム名 |
| --------------- | ---------------------------------- | ---------------------------- |
| 管理者 | 管理機能を含む全機能の利用 | requestmanager-admins |
| 作業担当者 | 全ての申請者の申請内容の参照と実行 | requestmanager-operators |
| 申請者 | 申請の作成と自身の申請内容の参照 | requestmanager-users |


* 各ロールと権限

| | 管理者 | 作業担当者 | 申請者 |
| --------------------------------- | --------- | ----------- | ------- |
| 申請の作成 | ✔︎ | ✔︎ | ✔︎ |
| 申請内容の参照（自身の申請のみ） | | | ✔︎ |
| 申請内容の参照（全て） | ✔︎ | ✔︎ | |
| 申請内容の変更 | ✔︎ | ✔︎ | |
| 申請の状態変更（完了のみ） | | ✔︎ | |
| 申請の状態変更（全て） | ✔︎ | | |
| 申請内容の実行 | ✔︎ | ✔︎ | |
| 申請の削除 | ✔︎ | | |
| 作業担当者の割り当て | ✔︎ | | |
| 操作履歴の参照（自身の操作のみ） | | | ✔︎ |
| 操作履歴の参照（全て） | ✔︎ | ✔︎ | |
| 個人用設定の変更 | ✔︎ | ✔︎ | ✔︎ |
| グローバル設定の変更 | ✔︎ | | |
